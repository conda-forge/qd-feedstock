{% set version = "2.3.20" %}

package:
  name: qd
  version: {{ version }}

source:
  fn: qd-{{ version }}.tar.gz
  url: http://crd.lbl.gov/~dhbailey/mpdist/qd-{{ version }}.tar.gz
  sha256: 72900ae5d3047719624701878abd8ed88fe3e4bc844c6fd614161ad926518385

build:
  skip: true  # [win]
  number: 0

requirements:
  build:
    - {{ compiler('fortran') }}
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host: []
  run:

test:
  # make check in build.sh runs tests, these check the installation path
  commands:
    - test -d ${PREFIX}/include/qd
    - test -f ${PREFIX}/lib/libqd.a
    - test -f ${PREFIX}/lib/libqdmod.a
    - test -f ${PREFIX}/lib/libqd_f_main.a
    - test -f ${PREFIX}/lib/libqd${SHLIB_EXT}
    - test -f ${PREFIX}/bin/qd-config
    - qd-config --fclibs

about:
  home: http://crd-legacy.lbl.gov/~dhbailey/mpdist/
  license:  LBNL-BSD
  license_file: qd-{{ version }}/COPYING
  summary: A C++/Fortran-90 double-double and quad-double package

extra:
  recipe-maintainers:
    - grlee77
    - isuruf
